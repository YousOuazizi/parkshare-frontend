import{a as N}from"./chunk-3OVL36LG.js";import{a as ce,b as le}from"./chunk-Q637V2OA.js";import"./chunk-KTA7NI4D.js";import"./chunk-TOYSZWZP.js";import"./chunk-VX7I6RTX.js";import"./chunk-BYXBJQAS.js";import"./chunk-BYXBJQAS.js";import"./chunk-BYXBJQAS.js";import"./chunk-H4CNE44H.js";import"./chunk-4VMU6D7R.js";import"./chunk-BYXBJQAS.js";import{a as de,b as ge}from"./chunk-ZBE5MT2F.js";import"./chunk-Q4XBDIY3.js";import{b as oe,c as ae}from"./chunk-4YZF7S4H.js";import{a as X,b as ee,d as te,e as ne,h as re,i as ie}from"./chunk-BEA6PIYI.js";import"./chunk-BKUR3HJB.js";import{c as H,e as l,h as U,i as J,n as W,q as Y,s as Z,w as K,y as Q}from"./chunk-NNDN5I2N.js";import{p as se,q as me}from"./chunk-DZL4S54P.js";import{a as L,c as V,f as D,g as G,i as B}from"./chunk-YMGTAZD4.js";import{a as j,b as $}from"./chunk-WDXJL7KP.js";import{aa as T,ga as z,ja as q,ka as A}from"./chunk-QDTPJT6E.js";import"./chunk-ENVM6CV3.js";import"./chunk-BJ67WPCT.js";import{c as F,d as R,i as I}from"./chunk-GET3MYAY.js";import{Fc as k,Ja as c,Ka as v,Kb as n,Lb as m,Ta as _,Vb as y,_a as d,bb as w,cb as C,ga as E,ib as s,nb as t,ob as e,pb as u,wb as b,yb as p}from"./chunk-JQWXTQXA.js";import{c as S}from"./chunk-GAL4ENT6.js";function ue(i,a){if(i&1&&(t(0,"div",5)(1,"mat-icon"),n(2,"error_outline"),e(),t(3,"span"),n(4),e()()),i&2){let o=p();c(4),m(o.errorMessage())}}function fe(i,a){if(i&1&&(t(0,"div",6)(1,"mat-icon"),n(2,"check_circle_outline"),e(),t(3,"span"),n(4),e()()),i&2){let o=p();c(4),m(o.successMessage())}}function _e(i,a){if(i&1&&(t(0,"mat-error"),n(1),e()),i&2){let o=p();c(),m(o.getErrorMessage("firstName"))}}function Ce(i,a){if(i&1&&(t(0,"mat-error"),n(1),e()),i&2){let o=p();c(),m(o.getErrorMessage("lastName"))}}function Me(i,a){if(i&1&&(t(0,"mat-error"),n(1),e()),i&2){let o=p();c(),m(o.getErrorMessage("email"))}}function Pe(i,a){if(i&1&&(t(0,"mat-error"),n(1),e()),i&2){let o=p();c(),m(o.getErrorMessage("phone"))}}function he(i,a){if(i&1&&(t(0,"mat-error"),n(1),e()),i&2){let o=p();c(),m(o.getErrorMessage("password"))}}function Oe(i,a){if(i&1&&(t(0,"mat-error"),n(1),e()),i&2){let o=p();c(),m(o.getErrorMessage("confirmPassword"))}}function xe(i,a){i&1&&(t(0,"div",26),n(1," You must accept the terms and conditions "),e())}function ve(i,a){i&1&&(u(0,"mat-spinner",30),t(1,"span"),n(2,"Creating account..."),e())}function be(i,a){i&1&&(t(0,"span"),n(1,"Create Account"),e())}var pe=class i{constructor(a,o,r){this.fb=a;this.authService=o;this.router=r;this.registerForm=this.fb.group({firstName:["",[l.required,l.minLength(2)]],lastName:["",[l.required,l.minLength(2)]],email:["",[l.required,l.email]],phone:["",[l.required,l.pattern(/^\+?[1-9]\d{1,14}$/)]],password:["",[l.required,l.minLength(8)]],confirmPassword:["",[l.required]],role:["USER",[l.required]],acceptTerms:[!1,[l.requiredTrue]]},{validators:this.passwordMatchValidator})}registerForm;loading=_(!1);errorMessage=_(null);successMessage=_(null);hidePassword=_(!0);hideConfirmPassword=_(!0);passwordMatchValidator(a){let o=a.get("password"),r=a.get("confirmPassword");return o&&r&&o.value!==r.value?(r.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}onSubmit(){if(this.registerForm.valid&&!this.loading()){this.loading.set(!0),this.errorMessage.set(null),this.successMessage.set(null);let a=this.registerForm.value,{confirmPassword:o,acceptTerms:r}=a,g=S(a,["confirmPassword","acceptTerms"]);this.authService.register(g).subscribe({next:()=>{this.successMessage.set("Registration successful! Redirecting to login..."),setTimeout(()=>{this.router.navigate(["/auth/login"])},2e3)},error:f=>{this.loading.set(!1),this.errorMessage.set(f.error?.message||"Registration failed. Please try again.")},complete:()=>{this.loading.set(!1)}})}}togglePasswordVisibility(){this.hidePassword.update(a=>!a)}toggleConfirmPasswordVisibility(){this.hideConfirmPassword.update(a=>!a)}getErrorMessage(a){let o=this.registerForm.get(a);return o?.hasError("required")?`${a.charAt(0).toUpperCase()+a.slice(1).replace(/([A-Z])/g," $1").trim()} is required`:o?.hasError("email")?"Please enter a valid email address":o?.hasError("minlength")?`Must be at least ${o.getError("minlength").requiredLength} characters`:o?.hasError("pattern")?"Please enter a valid phone number":o?.hasError("passwordMismatch")?"Passwords do not match":""}static \u0275fac=function(o){return new(o||i)(v(K),v(N),v(F))};static \u0275cmp=E({type:i,selectors:[["app-register"]],standalone:!0,features:[y],decls:95,vars:18,consts:[[1,"register-container"],[1,"register-card"],[1,"logo-section"],[1,"logo-icon"],[1,"subtitle"],[1,"error-alert"],[1,"success-alert"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"half-width"],["matInput","","type","text","formControlName","firstName","placeholder","John","autocomplete","given-name"],["matPrefix",""],["matInput","","type","text","formControlName","lastName","placeholder","Doe","autocomplete","family-name"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","you@example.com","autocomplete","email"],["matInput","","type","tel","formControlName","phone","placeholder","+1234567890","autocomplete","tel"],["formControlName","role"],["value","USER"],["value","OWNER"],["matInput","","formControlName","password","placeholder","Create a strong password","autocomplete","new-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Re-enter your password","autocomplete","new-password",3,"type"],[1,"terms-section"],["formControlName","acceptTerms"],["href","/terms","target","_blank"],["href","/privacy","target","_blank"],[1,"error-message"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"login-section"],["routerLink","/auth/login",1,"login-link"],["diameter","20"]],template:function(o,r){if(o&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"div",2)(4,"mat-icon",3),n(5,"local_parking"),e(),t(6,"h1"),n(7,"ParkShare"),e()(),t(8,"h2"),n(9,"Create Account"),e(),t(10,"p",4),n(11,"Join ParkShare and start sharing parking spaces"),e()(),t(12,"mat-card-content"),d(13,ue,5,1,"div",5)(14,fe,5,1,"div",6),t(15,"form",7),b("ngSubmit",function(){return r.onSubmit()}),t(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),n(19,"First Name"),e(),u(20,"input",10),t(21,"mat-icon",11),n(22,"person"),e(),d(23,_e,2,1,"mat-error"),e(),t(24,"mat-form-field",9)(25,"mat-label"),n(26,"Last Name"),e(),u(27,"input",12),d(28,Ce,2,1,"mat-error"),e()(),t(29,"mat-form-field",13)(30,"mat-label"),n(31,"Email Address"),e(),u(32,"input",14),t(33,"mat-icon",11),n(34,"email"),e(),d(35,Me,2,1,"mat-error"),e(),t(36,"mat-form-field",13)(37,"mat-label"),n(38,"Phone Number"),e(),u(39,"input",15),t(40,"mat-icon",11),n(41,"phone"),e(),d(42,Pe,2,1,"mat-error"),e(),t(43,"mat-form-field",13)(44,"mat-label"),n(45,"I want to"),e(),t(46,"mat-select",16)(47,"mat-option",17)(48,"mat-icon"),n(49,"directions_car"),e(),n(50," Find parking spaces "),e(),t(51,"mat-option",18)(52,"mat-icon"),n(53,"business"),e(),n(54," Share my parking space "),e()(),t(55,"mat-icon",11),n(56,"account_circle"),e()(),t(57,"mat-form-field",13)(58,"mat-label"),n(59,"Password"),e(),u(60,"input",19),t(61,"mat-icon",11),n(62,"lock"),e(),t(63,"button",20),b("click",function(){return r.togglePasswordVisibility()}),t(64,"mat-icon"),n(65),e()(),d(66,he,2,1,"mat-error"),e(),t(67,"mat-form-field",13)(68,"mat-label"),n(69,"Confirm Password"),e(),u(70,"input",21),t(71,"mat-icon",11),n(72,"lock"),e(),t(73,"button",20),b("click",function(){return r.toggleConfirmPasswordVisibility()}),t(74,"mat-icon"),n(75),e()(),d(76,Oe,2,1,"mat-error"),e(),t(77,"div",22)(78,"mat-checkbox",23),n(79," I agree to the "),t(80,"a",24),n(81,"Terms of Service"),e(),n(82," and "),t(83,"a",25),n(84,"Privacy Policy"),e()(),d(85,xe,2,0,"div",26),e(),t(86,"button",27),d(87,ve,3,0)(88,be,2,0,"span"),e()()(),t(89,"mat-card-footer")(90,"div",28)(91,"span"),n(92,"Already have an account?"),e(),t(93,"a",29),n(94,"Sign in"),e()()()()()),o&2){let g,f,M,P,h,O,x;c(13),s(r.errorMessage()?13:-1),c(),s(r.successMessage()?14:-1),c(),C("formGroup",r.registerForm),c(8),s((g=r.registerForm.get("firstName"))!=null&&g.invalid&&((g=r.registerForm.get("firstName"))!=null&&g.touched)?23:-1),c(5),s((f=r.registerForm.get("lastName"))!=null&&f.invalid&&((f=r.registerForm.get("lastName"))!=null&&f.touched)?28:-1),c(7),s((M=r.registerForm.get("email"))!=null&&M.invalid&&((M=r.registerForm.get("email"))!=null&&M.touched)?35:-1),c(7),s((P=r.registerForm.get("phone"))!=null&&P.invalid&&((P=r.registerForm.get("phone"))!=null&&P.touched)?42:-1),c(18),C("type",r.hidePassword()?"password":"text"),c(3),w("aria-label","Hide password"),c(2),m(r.hidePassword()?"visibility_off":"visibility"),c(),s((h=r.registerForm.get("password"))!=null&&h.invalid&&((h=r.registerForm.get("password"))!=null&&h.touched)?66:-1),c(4),C("type",r.hideConfirmPassword()?"password":"text"),c(3),w("aria-label","Hide password"),c(2),m(r.hideConfirmPassword()?"visibility_off":"visibility"),c(),s((O=r.registerForm.get("confirmPassword"))!=null&&O.invalid&&((O=r.registerForm.get("confirmPassword"))!=null&&O.touched)?76:-1),c(9),s((x=r.registerForm.get("acceptTerms"))!=null&&x.invalid&&((x=r.registerForm.get("acceptTerms"))!=null&&x.touched)?85:-1),c(),C("disabled",r.registerForm.invalid||r.loading()),c(),s(r.loading()?87:88)}},dependencies:[k,Q,W,H,U,J,Y,Z,I,R,B,L,V,G,D,ie,re,X,ee,te,ne,ae,oe,A,z,q,$,j,le,ce,me,se,ge,de,T],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 64px);padding:var(--spacing-md);background:linear-gradient(135deg,#fff3e0,#ffe0b2)}.register-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:var(--spacing-xl);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl)}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin-bottom:var(--spacing-xl);padding:0}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-md)}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--accent-color)}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-color) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 var(--spacing-sm) 0;color:#000000de}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin:0}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);margin-bottom:var(--spacing-lg);background-color:#ffebee;border-radius:var(--border-radius-md);color:var(--warn-color);font-size:14px}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .success-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);margin-bottom:var(--spacing-lg);background-color:#e8f5e9;border-radius:var(--border-radius-md);color:var(--success-color);font-size:14px}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .success-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);width:100%}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{flex:1}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .terms-section[_ngcontent-%COMP%]{margin:var(--spacing-sm) 0}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .terms-section[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:14px}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .terms-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .terms-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .terms-section[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--warn-color);font-size:12px;margin-top:var(--spacing-xs)}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:16px;font-weight:600;margin-top:var(--spacing-md);border-radius:var(--border-radius-md)}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin-right:var(--spacing-sm)}.register-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{padding:0;margin-top:var(--spacing-xl)}.register-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]{text-align:center;padding-top:var(--spacing-lg);border-top:1px solid rgba(0,0,0,.12);font-size:14px}.register-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0009;margin-right:var(--spacing-sm)}.register-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;text-decoration:none;transition:color var(--transition-fast)}.register-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}.dark-theme[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2a2416,#1a1510)}.dark-theme[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffffffde}.dark-theme[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#fff9}.dark-theme[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{background-color:#4a2020;color:#ff6b6b}.dark-theme[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .success-alert[_ngcontent-%COMP%]{background-color:#1a3a1a;color:#66bb6a}.dark-theme[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.dark-theme[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff9}@media (max-width: 768px){.register-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);min-height:100vh;align-items:flex-start}.register-card[_ngcontent-%COMP%]{padding:var(--spacing-lg);margin-top:var(--spacing-lg)}.register-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-md)}}"]})};export{pe as RegisterComponent};
