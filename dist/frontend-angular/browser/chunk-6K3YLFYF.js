import{a as Wt}from"./chunk-4PASLP5A.js";import{a as yt,b as wt,c as Et,d as kt,e as It,f as Tt,g as Dt,h as Ut,i as Ft,j as Rt,k as zt}from"./chunk-TX2IXNPC.js";import{c as Nt,g as Ht}from"./chunk-7UCGY7NH.js";import{a as Vt,b as Bt,c as $t,d as At}from"./chunk-NGOCJAJH.js";import{a as ut,b as _t}from"./chunk-P2UECIFE.js";import{b as Ct,c as bt,d as Mt}from"./chunk-5EK6EECO.js";import{a as vt,b as xt}from"./chunk-ZS7PXO4D.js";import{a as Ot,b as St}from"./chunk-DRQFL7WA.js";import{b as H}from"./chunk-KTA7NI4D.js";import"./chunk-TOYSZWZP.js";import"./chunk-VX7I6RTX.js";import"./chunk-BYXBJQAS.js";import"./chunk-BYXBJQAS.js";import"./chunk-BYXBJQAS.js";import"./chunk-H4CNE44H.js";import"./chunk-4VMU6D7R.js";import"./chunk-BYXBJQAS.js";import{b as ft,c as ht,e as Pt}from"./chunk-PUAMSDGZ.js";import"./chunk-Q4XBDIY3.js";import{b as dt,c as pt}from"./chunk-4YZF7S4H.js";import{a as ot,d as st,h as ct,i as lt}from"./chunk-BEA6PIYI.js";import"./chunk-BKUR3HJB.js";import{c as et,e as k,h as nt,l as it,p as at,y as rt}from"./chunk-NNDN5I2N.js";import{p as mt,q as gt}from"./chunk-DZL4S54P.js";import{a as Y,b as X,c as q,d as G,e as J,f as K,i as Q}from"./chunk-YMGTAZD4.js";import{a as Z,b as tt}from"./chunk-WDXJL7KP.js";import{ga as W,ja as L,ka as j}from"./chunk-QDTPJT6E.js";import"./chunk-ENVM6CV3.js";import"./chunk-BJ67WPCT.js";import{c as N}from"./chunk-GET3MYAY.js";import{Ac as V,Bc as B,Cb as w,Dc as $,Fc as A,Ja as o,Jb as D,Kb as a,Lb as m,Mb as b,Nb as U,Ta as f,Vb as F,Zb as R,_a as g,_b as z,bb as T,cb as p,da as v,db as y,eb as E,ga as I,na as _,nb as e,nc as S,oa as C,ob as n,pb as M,qb as x,rb as O,tb as h,wb as u,yb as d}from"./chunk-JQWXTQXA.js";import"./chunk-GAL4ENT6.js";function jt(s,i){s&1&&(e(0,"div",11),M(1,"mat-spinner",12),e(2,"p"),a(3,"Loading your subscriptions..."),n()())}function Yt(s,i){if(s&1){let t=h();e(0,"div",13)(1,"mat-icon"),a(2,"error_outline"),n(),e(3,"p"),a(4),n(),e(5,"button",14),u("click",function(){_(t);let c=d();return C(c.loadSubscriptions())}),e(6,"mat-icon"),a(7,"refresh"),n(),a(8," Retry "),n()()}if(s&2){let t=d();o(4),m(t.error())}}function Xt(s,i){if(s&1){let t=h();e(0,"div",15)(1,"mat-icon"),a(2,"event_busy"),n(),e(3,"h2"),a(4,"No Active Subscriptions"),n(),e(5,"p"),a(6," You don't have any subscriptions yet. Browse our plans to get started! "),n(),e(7,"button",14),u("click",function(){_(t);let c=d();return C(c.browsePlans())}),e(8,"mat-icon"),a(9,"explore"),n(),a(10," Browse Plans "),n()()}}function qt(s,i){if(s&1&&(e(0,"div",52)(1,"span",53),a(2,"End Date:"),n(),e(3,"span",54),a(4),n()()),s&2){let t=d().$implicit,r=d(2);o(4),m(r.formatDate(t.endDate))}}function Gt(s,i){if(s&1&&(e(0,"div",64)(1,"mat-icon"),a(2,"warning"),n(),e(3,"span"),a(4),n()()),s&2){let t=d().$implicit,r=d(2);o(4),b("Expires in ",r.getDaysRemaining(t)," days")}}function Jt(s,i){if(s&1){let t=h();e(0,"mat-chip",69)(1,"mat-icon"),a(2,"person"),n(),a(3),e(4,"button",70),u("click",function(){let c=_(t).$implicit,l=d(2).$implicit,P=d(2);return C(P.revokeShare(l,c.id))}),e(5,"mat-icon"),a(6,"cancel"),n()()()}if(s&2){let t=i.$implicit;o(3),U(" ",t.firstName," ",t.lastName," ")}}function Kt(s,i){if(s&1&&(e(0,"div",65)(1,"h4",66),a(2,"Shared With"),n(),e(3,"div",67),g(4,Jt,7,2,"mat-chip",68),n()()),s&2){let t=d().$implicit;o(4),p("ngForOf",t.sharedUsers)}}function Qt(s,i){if(s&1){let t=h();e(0,"div",71)(1,"h4",66),a(2,"Share Subscription"),n(),e(3,"div",72)(4,"mat-form-field",73)(5,"mat-label"),a(6,"Email address"),n(),M(7,"input",74),e(8,"mat-icon",75),a(9,"email"),n()(),e(10,"button",76),u("click",function(){_(t);let c=d().$implicit,l=d(2);return C(l.shareSubscription(c))}),e(11,"mat-icon"),a(12,"share"),n(),a(13," Share "),n()(),e(14,"p",77),a(15),n()()}if(s&2){let t=d().$implicit,r=d(2);o(7),p("formControl",r.shareEmailControl),o(3),p("disabled",r.shareEmailControl.invalid),o(5),b(" ",t.plan.maxShares-((t.sharedWith==null?null:t.sharedWith.length)||0)," shares remaining ")}}function Zt(s,i){if(s&1){let t=h();e(0,"mat-card",45),u("click",function(){let c=_(t).$implicit,l=d(2);return C(l.selectSubscription(c))}),e(1,"mat-card-header"),M(2,"div",46),e(3,"div",47)(4,"mat-card-title"),a(5),n(),e(6,"mat-card-subtitle"),a(7),n(),e(8,"mat-chip",48)(9,"mat-icon"),a(10),n(),a(11),n()(),e(12,"button",49),u("click",function(c){return _(t),C(c.stopPropagation())}),e(13,"mat-icon"),a(14,"more_vert"),n()(),e(15,"mat-menu",null,0)(17,"button",50),u("click",function(){let c=_(t).$implicit,l=d(2);return C(l.upgradePlan(c))}),e(18,"mat-icon"),a(19,"upgrade"),n(),e(20,"span"),a(21,"Upgrade Plan"),n()(),e(22,"button",50),u("click",function(){let c=_(t).$implicit,l=d(2);return C(l.pauseSubscription(c))}),e(23,"mat-icon"),a(24,"pause"),n(),e(25,"span"),a(26,"Pause"),n()(),e(27,"button",50),u("click",function(){let c=_(t).$implicit,l=d(2);return C(l.cancelSubscription(c))}),e(28,"mat-icon"),a(29,"cancel"),n(),e(30,"span"),a(31,"Cancel"),n()()()(),e(32,"mat-card-content")(33,"div",51)(34,"div",52)(35,"span",53),a(36,"Plan:"),n(),e(37,"span",54),a(38),n()(),e(39,"div",52)(40,"span",53),a(41,"Type:"),n(),e(42,"span",54),a(43),n()(),e(44,"div",52)(45,"span",53),a(46,"Price:"),n(),e(47,"span",54),a(48),n()(),e(49,"div",52)(50,"span",53),a(51,"Start Date:"),n(),e(52,"span",54),a(53),n()(),g(54,qt,5,1,"div",55),e(55,"div",52)(56,"span",53),a(57,"Auto Renew:"),n(),e(58,"span",54)(59,"mat-icon"),a(60),n(),a(61),n()()(),g(62,Gt,5,1,"div",56),e(63,"div",57)(64,"div",58)(65,"span",59),a(66,"Usage This Period"),n(),e(67,"span",60),a(68),n()(),M(69,"mat-progress-bar",61),n(),g(70,Kt,5,1,"div",62)(71,Qt,16,3,"div",63),n()()}if(s&2){let t,r=i.$implicit,c=D(16),l=d(2);E("selected",((t=l.selectedSubscription())==null?null:t.id)===r.id),o(2),y("background-image","url("+l.getParkingImageUrl(r)+")"),o(3),m((r.parking==null?null:r.parking.title)||"Parking Spot"),o(2),m(r.parking==null?null:r.parking.address),o(),p("color",l.getStatusColor(r.status)),o(2),m(l.getStatusIcon(r.status)),o(),b(" ",r.status," "),o(),p("matMenuTriggerFor",c),o(26),m((r.plan==null?null:r.plan.name)||"N/A"),o(5),m(r.plan==null?null:r.plan.type),o(5),m(l.formatCurrency((r.plan==null?null:r.plan.price)||0,(r.plan==null?null:r.plan.currency)||"USD")),o(5),m(l.formatDate(r.startDate)),o(),p("ngIf",r.endDate),o(5),E("enabled",r.autoRenew),o(),b(" ",r.autoRenew?"check_circle":"cancel"," "),o(),b(" ",r.autoRenew?"Enabled":"Disabled"," "),o(),p("ngIf",l.isExpiringSoon(r)),o(6),b("",r.usageCount," times"),o(),p("value",l.getUsagePercentage(r)),o(),p("ngIf",r.sharedWith&&r.sharedWith.length>0),o(),p("ngIf",r.plan&&((r.sharedWith==null?null:r.sharedWith.length)||0)<r.plan.maxShares)}}function te(s,i){if(s&1){let t=h();e(0,"mat-card",78)(1,"mat-card-header"),M(2,"div",46),e(3,"div",47)(4,"mat-card-title"),a(5),n(),e(6,"mat-card-subtitle"),a(7),n(),e(8,"mat-chip",48)(9,"mat-icon"),a(10),n(),a(11),n()()(),e(12,"mat-card-content")(13,"p",79),a(14," This subscription is currently paused and not active. "),n()(),e(15,"mat-card-actions")(16,"button",14),u("click",function(){let c=_(t).$implicit,l=d(2);return C(l.resumeSubscription(c))}),e(17,"mat-icon"),a(18,"play_arrow"),n(),a(19," Resume "),n(),e(20,"button",80),u("click",function(){let c=_(t).$implicit,l=d(2);return C(l.cancelSubscription(c))}),e(21,"mat-icon"),a(22,"cancel"),n(),a(23," Cancel "),n()()()}if(s&2){let t=i.$implicit,r=d(2);o(2),y("background-image","url("+r.getParkingImageUrl(t)+")"),o(3),m((t.parking==null?null:t.parking.title)||"Parking Spot"),o(2),m(t.parking==null?null:t.parking.address),o(),p("color",r.getStatusColor(t.status)),o(2),m(r.getStatusIcon(t.status)),o(),b(" ",t.status," ")}}function ee(s,i){if(s&1&&(e(0,"mat-card",81)(1,"mat-card-header"),M(2,"div",46),e(3,"div",47)(4,"mat-card-title"),a(5),n(),e(6,"mat-card-subtitle"),a(7),n(),e(8,"mat-chip",48)(9,"mat-icon"),a(10),n(),a(11),n()()(),e(12,"mat-card-content")(13,"div",52)(14,"span",53),a(15,"End Date:"),n(),e(16,"span",54),a(17),n()(),e(18,"p",82),a(19," This subscription is no longer active. "),n()()()),s&2){let t=i.$implicit,r=d(2);o(2),y("background-image","url("+r.getParkingImageUrl(t)+")"),o(3),m((t.parking==null?null:t.parking.title)||"Parking Spot"),o(2),m(t.parking==null?null:t.parking.address),o(),p("color",r.getStatusColor(t.status)),o(2),m(r.getStatusIcon(t.status)),o(),b(" ",t.status," "),o(6),m(r.formatDate(t.endDate||t.updatedAt))}}function ne(s,i){s&1&&(e(0,"th",83),a(1,"Date"),n())}function ie(s,i){if(s&1&&(e(0,"td",84),a(1),n()),s&2){let t=i.$implicit,r=d(2);o(),b(" ",r.formatDate(t.date)," ")}}function ae(s,i){s&1&&(e(0,"th",83),a(1,"Amount"),n())}function re(s,i){if(s&1&&(e(0,"td",84),a(1),n()),s&2){let t=i.$implicit,r=d(2);o(),b(" ",r.formatCurrency(t.amount,t.currency)," ")}}function oe(s,i){s&1&&(e(0,"th",83),a(1,"Status"),n())}function se(s,i){if(s&1&&(e(0,"td",84)(1,"mat-chip",48),a(2),R(3,"uppercase"),n()()),s&2){let t=i.$implicit,r=d(2);o(),p("color",r.getBillingStatusColor(t.status)),o(),b(" ",z(3,2,t.status)," ")}}function ce(s,i){s&1&&(e(0,"th",83),a(1,"Actions"),n())}function le(s,i){if(s&1&&(e(0,"td",84)(1,"button",85)(2,"mat-icon"),a(3,"download"),n()()()),s&2){let t=i.$implicit;o(),T("href",t.invoiceUrl)}}function de(s,i){s&1&&M(0,"tr",86)}function pe(s,i){s&1&&M(0,"tr",87)}function me(s,i){if(s&1&&(e(0,"div",16)(1,"div",17)(2,"mat-card",18)(3,"mat-card-content")(4,"div",19)(5,"mat-icon"),a(6,"local_parking"),n()(),e(7,"div",20)(8,"span",21),a(9),n(),e(10,"span",22),a(11,"Active Spots"),n()()()(),e(12,"mat-card",18)(13,"mat-card-content")(14,"div",23)(15,"mat-icon"),a(16,"people"),n()(),e(17,"div",20)(18,"span",21),a(19),n(),e(20,"span",22),a(21,"Shared With"),n()()()(),e(22,"mat-card",18)(23,"mat-card-content")(24,"div",24)(25,"mat-icon"),a(26,"event"),n()(),e(27,"div",20)(28,"span",21),a(29),n(),e(30,"span",22),a(31,"Total Usage"),n()()()(),e(32,"mat-card",18)(33,"mat-card-content")(34,"div",25)(35,"mat-icon"),a(36,"trending_up"),n()(),e(37,"div",20)(38,"span",21),a(39),n(),e(40,"span",22),a(41,"Avg. Usage"),n()()()()(),e(42,"mat-tab-group",26)(43,"mat-tab",27)(44,"div",28),g(45,Zt,72,24,"mat-card",29),n()(),e(46,"mat-tab",27)(47,"div",28),g(48,te,24,7,"mat-card",30),n()(),e(49,"mat-tab",27)(50,"div",28),g(51,ee,20,8,"mat-card",31),n()(),e(52,"mat-tab",32)(53,"div",33)(54,"mat-card",34)(55,"mat-card-header")(56,"mat-card-title"),a(57,"Payment History"),n(),e(58,"mat-card-subtitle"),a(59,"View and download your invoices"),n()(),e(60,"mat-card-content")(61,"div",35)(62,"table",36),x(63,37),g(64,ne,2,0,"th",38)(65,ie,2,1,"td",39),O(),x(66,40),g(67,ae,2,0,"th",38)(68,re,2,1,"td",39),O(),x(69,41),g(70,oe,2,0,"th",38)(71,se,4,4,"td",39),O(),x(72,42),g(73,ce,2,0,"th",38)(74,le,4,1,"td",39),O(),g(75,de,1,0,"tr",43)(76,pe,1,0,"tr",44),n()()()()()()()()),s&2){let t=d();o(9),m(t.subscriptionStats().totalSpots),o(10),m(t.subscriptionStats().totalShares),o(10),m(t.subscriptionStats().totalUsage),o(10),m(t.subscriptionStats().averageUsage),o(4),w("label","Active (",t.activeSubscriptions().length,")"),o(2),p("ngForOf",t.activeSubscriptions())("ngForTrackBy",t.trackBySubscriptionId),o(),w("label","Paused (",t.pausedSubscriptions().length,")"),o(2),p("ngForOf",t.pausedSubscriptions())("ngForTrackBy",t.trackBySubscriptionId),o(),w("label","Inactive (",t.inactiveSubscriptions().length,")"),o(2),p("ngForOf",t.inactiveSubscriptions())("ngForTrackBy",t.trackBySubscriptionId),o(11),p("dataSource",t.billingHistory()),o(13),p("matHeaderRowDef",t.billingColumns),o(),p("matRowDefColumns",t.billingColumns)}}var Lt=class s{subscriptionService=v(Wt);router=v(N);dialog=v(Nt);snackBar=v(Ot);subscriptions=f([]);loading=f(!1);error=f(null);selectedSubscription=f(null);usageReport=f(null);loadingUsage=f(!1);activeSubscriptions=S(()=>this.subscriptions().filter(i=>i.status==="ACTIVE"));pausedSubscriptions=S(()=>this.subscriptions().filter(i=>i.status==="PAUSED"));inactiveSubscriptions=S(()=>this.subscriptions().filter(i=>i.status==="CANCELLED"||i.status==="EXPIRED"));subscriptionStats=S(()=>{let i=this.activeSubscriptions(),t=i.length,r=i.reduce((l,P)=>l+(P.sharedWith?.length||0),0),c=i.reduce((l,P)=>l+(P.usageCount||0),0);return{totalSpots:t,totalShares:r,totalUsage:c,averageUsage:t>0?Math.round(c/t):0}});billingHistory=f([{id:"1",date:"2025-11-01",amount:24.99,currency:"USD",status:"paid",invoiceUrl:"#"},{id:"2",date:"2025-10-01",amount:24.99,currency:"USD",status:"paid",invoiceUrl:"#"},{id:"3",date:"2025-09-01",amount:24.99,currency:"USD",status:"paid",invoiceUrl:"#"}]);billingColumns=["date","amount","status","actions"];shareEmailControl=new it("",[k.required,k.email]);SubscriptionStatus=H;ngOnInit(){this.loadSubscriptions()}loadSubscriptions(){this.loading.set(!0),this.error.set(null),this.subscriptionService.getSubscriptions().subscribe({next:i=>{this.subscriptions.set(i),this.loading.set(!1);let t=this.activeSubscriptions();t.length>0&&this.selectSubscription(t[0])},error:i=>{this.error.set("Failed to load subscriptions. Please try again."),this.loading.set(!1),console.error("Error loading subscriptions:",i)}})}selectSubscription(i){this.selectedSubscription.set(i),this.loadUsageReport(i.id)}loadUsageReport(i){this.loadingUsage.set(!0),this.subscriptionService.getUsageReport(i).subscribe({next:t=>{this.usageReport.set(t),this.loadingUsage.set(!1)},error:t=>{console.error("Error loading usage report:",t),this.loadingUsage.set(!1)}})}pauseSubscription(i){confirm("Are you sure you want to pause this subscription?")&&this.subscriptionService.pauseSubscription(i.id).subscribe({next:()=>{this.showSuccess("Subscription paused successfully"),this.loadSubscriptions()},error:t=>{this.showError("Failed to pause subscription"),console.error("Error pausing subscription:",t)}})}resumeSubscription(i){this.subscriptionService.resumeSubscription(i.id).subscribe({next:()=>{this.showSuccess("Subscription resumed successfully"),this.loadSubscriptions()},error:t=>{this.showError("Failed to resume subscription"),console.error("Error resuming subscription:",t)}})}cancelSubscription(i){confirm("Are you sure you want to cancel this subscription? You will lose access at the end of your billing period.")&&this.subscriptionService.cancelSubscription(i.id).subscribe({next:()=>{this.showSuccess("Subscription cancelled successfully"),this.loadSubscriptions()},error:r=>{this.showError("Failed to cancel subscription"),console.error("Error cancelling subscription:",r)}})}shareSubscription(i){let t=this.shareEmailControl.value?.trim();if(!t||this.shareEmailControl.invalid){this.showError("Please enter a valid email address");return}let r=i.sharedWith?.length||0,c=i.plan?.maxShares||0;if(r>=c&&c>0){this.showError(`Maximum shares (${c}) reached for this plan`);return}this.subscriptionService.shareSubscription(i.id,t).subscribe({next:()=>{this.showSuccess(`Subscription shared with ${t}`),this.shareEmailControl.reset(),this.loadSubscriptions()},error:l=>{this.showError("Failed to share subscription"),console.error("Error sharing subscription:",l)}})}revokeShare(i,t){if(confirm("Are you sure you want to revoke this share?")){let r=`${i.id}-${t}`;this.subscriptionService.revokeShare(r).subscribe({next:()=>{this.showSuccess("Share revoked successfully"),this.loadSubscriptions()},error:c=>{this.showError("Failed to revoke share"),console.error("Error revoking share:",c)}})}}upgradePlan(i){this.router.navigate(["/subscriptions/plans"],{queryParams:{upgrade:i.id}})}browsePlans(){this.router.navigate(["/subscriptions/plans"])}getStatusColor(i){switch(i){case"ACTIVE":return"primary";case"PAUSED":return"accent";case"CANCELLED":case"EXPIRED":return"warn";default:return""}}getStatusIcon(i){switch(i){case"ACTIVE":return"check_circle";case"PAUSED":return"pause_circle";case"CANCELLED":return"cancel";case"EXPIRED":return"event_busy";default:return"info"}}getBillingStatusColor(i){switch(i){case"paid":return"primary";case"pending":return"accent";case"failed":return"warn";default:return""}}getUsagePercentage(i){let t=this.usageReport();if(!t||!i.plan)return 0;let r=i.plan.type,c=t.totalUsage;return Math.min(c/30*100,100)}formatDate(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatCurrency(i,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(i)}getDaysRemaining(i){if(!i.endDate)return 0;let t=new Date,c=new Date(i.endDate).getTime()-t.getTime(),l=Math.ceil(c/(1e3*60*60*24));return Math.max(l,0)}isExpiringSoon(i){let t=this.getDaysRemaining(i);return t>0&&t<=7}getParkingImageUrl(i){return i.parking?.photos&&i.parking.photos.length>0?i.parking.photos[0].url:"assets/images/default-parking.jpg"}showSuccess(i){this.snackBar.open(i,"Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}showError(i){this.snackBar.open(i,"Close",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["error-snackbar"]})}trackBySubscriptionId(i,t){return t.id}trackByBillingId(i,t){return t.id}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=I({type:s,selectors:[["app-my-subscriptions"]],standalone:!0,features:[F],decls:15,vars:4,consts:[["menu","matMenu"],[1,"my-subscriptions-container"],[1,"subscriptions-header"],[1,"header-content"],[1,"title"],[1,"subtitle"],["mat-raised-button","","color","primary",1,"add-button",3,"click"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","subscriptions-content",4,"ngIf"],[1,"loading-spinner"],["diameter","50"],[1,"error-message"],["mat-raised-button","","color","primary",3,"click"],[1,"empty-state"],[1,"subscriptions-content"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon-wrapper","primary"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon-wrapper","accent"],[1,"stat-icon-wrapper","success"],[1,"stat-icon-wrapper","info"],["animationDuration","300ms",1,"subscriptions-tabs"],[3,"label"],[1,"subscriptions-list"],["class","subscription-card",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","subscription-card paused",4,"ngFor","ngForOf","ngForTrackBy"],["class","subscription-card inactive",4,"ngFor","ngForOf","ngForTrackBy"],["label","Billing History"],[1,"billing-section"],[1,"billing-card"],[1,"table-container"],["mat-table","",1,"billing-table",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"subscription-card",3,"click"],[1,"subscription-image"],[1,"subscription-info"],[3,"color"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"plan-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["class","warning-banner",4,"ngIf"],[1,"usage-section"],[1,"usage-header"],[1,"usage-label"],[1,"usage-count"],["mode","determinate","color","primary",3,"value"],["class","shared-section",4,"ngIf"],["class","share-section",4,"ngIf"],[1,"warning-banner"],[1,"shared-section"],[1,"section-title"],[1,"shared-users"],["class","user-chip",4,"ngFor","ngForOf"],[1,"user-chip"],["matChipRemove","",3,"click"],[1,"share-section"],[1,"share-form"],["appearance","outline",1,"share-input"],["matInput","","type","email","placeholder","friend@example.com",3,"formControl"],["matPrefix",""],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"share-info"],[1,"subscription-card","paused"],[1,"paused-message"],["mat-button","",3,"click"],[1,"subscription-card","inactive"],[1,"inactive-message"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Download Invoice"],["mat-header-row",""],["mat-row",""]],template:function(t,r){t&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),a(4,"My Subscriptions"),n(),e(5,"p",5),a(6,"Manage your parking subscriptions and billing"),n()(),e(7,"button",6),u("click",function(){return r.browsePlans()}),e(8,"mat-icon"),a(9,"add"),n(),a(10," New Subscription "),n()(),g(11,jt,4,0,"div",7)(12,Yt,9,1,"div",8)(13,Xt,11,0,"div",9)(14,me,77,19,"div",10),n()),t&2&&(o(11),p("ngIf",r.loading()),o(),p("ngIf",r.error()),o(),p("ngIf",!r.loading()&&!r.error()&&r.subscriptions().length===0),o(),p("ngIf",!r.loading()&&!r.error()&&r.subscriptions().length>0))},dependencies:[A,V,B,$,rt,et,nt,at,Q,Y,J,q,K,G,X,j,W,L,tt,Z,_t,ut,Pt,ht,ft,zt,yt,Et,Dt,kt,wt,Ut,It,Tt,Ft,Rt,gt,mt,xt,vt,At,Bt,Vt,$t,Ht,lt,ct,ot,st,pt,dt,St,Mt,Ct,bt],styles:[".my-subscriptions-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:var(--spacing-xl) var(--spacing-md)}.subscriptions-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-xl);flex-wrap:wrap;gap:var(--spacing-md)}.subscriptions-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:var(--spacing-xs);color:var(--primary-color)}.dark-theme[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--primary-light)}.subscriptions-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0009}.dark-theme[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#fff9}.subscriptions-header[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{height:44px;padding:0 var(--spacing-lg);font-weight:600}.subscriptions-header[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--spacing-xs)}.loading-spinner[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:var(--spacing-md)}.loading-spinner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0009}.dark-theme[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff9}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--warn-color)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:var(--spacing-md);text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#0000004d}.dark-theme[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffff4d}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#000000de;margin:0}.dark-theme[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffffffde}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0009;max-width:400px}.dark-theme[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:var(--spacing-md)}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;margin-right:var(--spacing-xs)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-md);margin-bottom:var(--spacing-xl)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-lg)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;border-radius:50%}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:#fff}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper.primary[_ngcontent-%COMP%]{background-color:var(--primary-color)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper.accent[_ngcontent-%COMP%]{background-color:var(--accent-color)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper.success[_ngcontent-%COMP%]{background-color:var(--success-color)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper.info[_ngcontent-%COMP%]{background-color:var(--info-color)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000000de}.dark-theme[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#ffffffde}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#0009}.dark-theme[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#fff9}.subscriptions-tabs[_ngcontent-%COMP%]{margin-top:var(--spacing-xl)}.subscriptions-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-content{padding:var(--spacing-lg) 0}.subscriptions-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:var(--spacing-lg)}.subscription-card[_ngcontent-%COMP%]{position:relative;transition:all var(--transition-normal);cursor:pointer;border:2px solid transparent}.subscription-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.subscription-card.selected[_ngcontent-%COMP%]{border-color:var(--primary-color);box-shadow:var(--shadow-md)}.subscription-card.paused[_ngcontent-%COMP%]{opacity:.8}.subscription-card.paused[_ngcontent-%COMP%]   .subscription-image[_ngcontent-%COMP%]{filter:grayscale(50%)}.subscription-card.inactive[_ngcontent-%COMP%]{opacity:.6}.subscription-card.inactive[_ngcontent-%COMP%]   .subscription-image[_ngcontent-%COMP%]{filter:grayscale(100%)}.subscription-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--spacing-md);padding:var(--spacing-lg);position:relative}.subscription-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 var(--spacing-lg) var(--spacing-lg)}.subscription-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:var(--spacing-md) var(--spacing-lg);display:flex;gap:var(--spacing-sm)}.subscription-card[_ngcontent-%COMP%]   .subscription-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:var(--border-radius-md);background-size:cover;background-position:center;flex-shrink:0}.subscription-card[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]{flex:1;min-width:0}.subscription-card[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:var(--spacing-xs);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.subscription-card[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:var(--spacing-sm);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.subscription-card[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{height:28px;font-size:.75rem}.subscription-card[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:var(--spacing-xs)}.plan-details[_ngcontent-%COMP%]{margin:var(--spacing-md) 0;padding:var(--spacing-md);background-color:#f5f5f5;border-radius:var(--border-radius-md)}.dark-theme[_ngcontent-%COMP%]   .plan-details[_ngcontent-%COMP%]{background-color:#2c2c2c}.plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-xs) 0}.plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid rgba(0,0,0,.1)}.dark-theme[_ngcontent-%COMP%]   .plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:not(:last-child){border-color:#ffffff1a}.plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#0009;font-weight:500}.dark-theme[_ngcontent-%COMP%]   .plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:#fff9}.plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#000000de;font-weight:600;display:flex;align-items:center;gap:var(--spacing-xs)}.dark-theme[_ngcontent-%COMP%]   .plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#ffffffde}.plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.plan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon.enabled[_ngcontent-%COMP%]{color:var(--success-color)}.warning-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background-color:#ff98001a;border-left:4px solid var(--accent-color);border-radius:var(--border-radius-sm);margin:var(--spacing-md) 0}.warning-banner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--accent-color);font-size:20px;width:20px;height:20px}.warning-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--accent-dark)}.usage-section[_ngcontent-%COMP%]{margin:var(--spacing-md) 0}.usage-section[_ngcontent-%COMP%]   .usage-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm)}.usage-section[_ngcontent-%COMP%]   .usage-header[_ngcontent-%COMP%]   .usage-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#0009}.dark-theme[_ngcontent-%COMP%]   .usage-section[_ngcontent-%COMP%]   .usage-header[_ngcontent-%COMP%]   .usage-label[_ngcontent-%COMP%]{color:#fff9}.usage-section[_ngcontent-%COMP%]   .usage-header[_ngcontent-%COMP%]   .usage-count[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--primary-color)}.dark-theme[_ngcontent-%COMP%]   .usage-section[_ngcontent-%COMP%]   .usage-header[_ngcontent-%COMP%]   .usage-count[_ngcontent-%COMP%]{color:var(--primary-light)}.usage-section[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:8px;border-radius:var(--border-radius-sm)}.shared-section[_ngcontent-%COMP%]{margin:var(--spacing-md) 0}.shared-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin-bottom:var(--spacing-sm);color:#000000de}.dark-theme[_ngcontent-%COMP%]   .shared-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#ffffffde}.shared-section[_ngcontent-%COMP%]   .shared-users[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.shared-section[_ngcontent-%COMP%]   .shared-users[_ngcontent-%COMP%]   .user-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:var(--spacing-xs)}.share-section[_ngcontent-%COMP%]{margin:var(--spacing-md) 0;padding:var(--spacing-md);border:1px dashed rgba(0,0,0,.2);border-radius:var(--border-radius-md)}.dark-theme[_ngcontent-%COMP%]   .share-section[_ngcontent-%COMP%]{border-color:#fff3}.share-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin-bottom:var(--spacing-sm);color:#000000de}.dark-theme[_ngcontent-%COMP%]   .share-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#ffffffde}.share-section[_ngcontent-%COMP%]   .share-form[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:flex-start}.share-section[_ngcontent-%COMP%]   .share-form[_ngcontent-%COMP%]   .share-input[_ngcontent-%COMP%]{flex:1}.share-section[_ngcontent-%COMP%]   .share-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:4px;height:56px}.share-section[_ngcontent-%COMP%]   .share-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--spacing-xs)}.share-section[_ngcontent-%COMP%]   .share-info[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);font-size:.75rem;color:#0009}.dark-theme[_ngcontent-%COMP%]   .share-section[_ngcontent-%COMP%]   .share-info[_ngcontent-%COMP%]{color:#fff9}.paused-message[_ngcontent-%COMP%]{padding:var(--spacing-md);background-color:#ff98001a;border-radius:var(--border-radius-md);text-align:center;color:var(--accent-dark);font-weight:500}.inactive-message[_ngcontent-%COMP%]{padding:var(--spacing-md);background-color:#f443361a;border-radius:var(--border-radius-md);text-align:center;color:var(--warn-color);font-weight:500;margin-top:var(--spacing-md)}.billing-section[_ngcontent-%COMP%]   .billing-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.billing-section[_ngcontent-%COMP%]   .billing-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0}.billing-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.billing-section[_ngcontent-%COMP%]   .billing-table[_ngcontent-%COMP%]{width:100%}.billing-section[_ngcontent-%COMP%]   .billing-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%], .billing-section[_ngcontent-%COMP%]   .billing-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{padding:var(--spacing-md)}.billing-section[_ngcontent-%COMP%]   .billing-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.dark-theme[_ngcontent-%COMP%]   .billing-section[_ngcontent-%COMP%]   .billing-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{background-color:#2c2c2c}.billing-section[_ngcontent-%COMP%]   .billing-table[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px}@media (max-width: 768px){.my-subscriptions-container[_ngcontent-%COMP%]{padding:var(--spacing-lg) var(--spacing-sm)}.subscriptions-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.subscriptions-header[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{width:100%}.subscriptions-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.75rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.stats-grid[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.subscriptions-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.subscription-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.subscription-card[_ngcontent-%COMP%]   .subscription-image[_ngcontent-%COMP%]{width:100%;height:200px}.subscription-card[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]{width:100%;text-align:center}.share-section[_ngcontent-%COMP%]   .share-form[_ngcontent-%COMP%]{flex-direction:column}.share-section[_ngcontent-%COMP%]   .share-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:var(--spacing-sm)}.billing-table[_ngcontent-%COMP%]{font-size:.875rem}.billing-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%], .billing-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{padding:var(--spacing-sm)}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn var(--transition-normal) ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};export{Lt as MySubscriptionsComponent};
