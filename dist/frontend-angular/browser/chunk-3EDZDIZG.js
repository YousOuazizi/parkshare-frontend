import{a as k}from"./chunk-3OVL36LG.js";import{a as tt,b as nt}from"./chunk-Q637V2OA.js";import"./chunk-KTA7NI4D.js";import"./chunk-TOYSZWZP.js";import"./chunk-VX7I6RTX.js";import"./chunk-BYXBJQAS.js";import"./chunk-BYXBJQAS.js";import"./chunk-BYXBJQAS.js";import"./chunk-H4CNE44H.js";import"./chunk-4VMU6D7R.js";import"./chunk-BYXBJQAS.js";import{b as Y,c as Z}from"./chunk-4YZF7S4H.js";import{a as U,b as W,d as J,e as K,h as Q,i as X}from"./chunk-BEA6PIYI.js";import"./chunk-BKUR3HJB.js";import{c as A,e as s,h as D,i as G,n as j,q,s as V,w as H,y as $}from"./chunk-NNDN5I2N.js";import{p as et,q as ot}from"./chunk-DZL4S54P.js";import{a as L,c as I,f as z,g as N,i as T}from"./chunk-YMGTAZD4.js";import{a as B,b as R}from"./chunk-WDXJL7KP.js";import{ga as y,ja as E,ka as F}from"./chunk-QDTPJT6E.js";import"./chunk-ENVM6CV3.js";import"./chunk-BJ67WPCT.js";import{c as b,d as S,i as w}from"./chunk-GET3MYAY.js";import{Fc as v,Ja as c,Ka as f,Kb as e,Lb as d,Ta as M,Vb as x,_a as g,bb as h,cb as u,ga as O,ib as m,nb as t,ob as n,pb as C,wb as P,yb as _}from"./chunk-JQWXTQXA.js";import"./chunk-GAL4ENT6.js";function rt(i,r){if(i&1&&(t(0,"div",5)(1,"mat-icon"),e(2,"error_outline"),n(),t(3,"span"),e(4),n()()),i&2){let o=_();c(4),d(o.errorMessage())}}function at(i,r){if(i&1&&(t(0,"mat-error"),e(1),n()),i&2){let o=_();c(),d(o.getErrorMessage("email"))}}function ct(i,r){if(i&1&&(t(0,"mat-error"),e(1),n()),i&2){let o=_();c(),d(o.getErrorMessage("password"))}}function lt(i,r){i&1&&(C(0,"mat-spinner",18),t(1,"span"),e(2,"Signing in..."),n())}function gt(i,r){i&1&&(t(0,"span"),e(1,"Sign In"),n())}var it=class i{constructor(r,o,a){this.fb=r;this.authService=o;this.router=a;this.loginForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],rememberMe:[!1]})}loginForm;loading=M(!1);errorMessage=M(null);hidePassword=M(!0);onSubmit(){this.loginForm.valid&&!this.loading()&&(this.loading.set(!0),this.errorMessage.set(null),this.authService.login(this.loginForm.value).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:r=>{this.loading.set(!1),this.errorMessage.set(r.error?.message||"Login failed. Please check your credentials.")},complete:()=>{this.loading.set(!1)}}))}togglePasswordVisibility(){this.hidePassword.update(r=>!r)}getErrorMessage(r){let o=this.loginForm.get(r);return o?.hasError("required")?`${r.charAt(0).toUpperCase()+r.slice(1)} is required`:o?.hasError("email")?"Please enter a valid email address":o?.hasError("minlength")?`Password must be at least ${o.getError("minlength").requiredLength} characters`:""}static \u0275fac=function(o){return new(o||i)(f(H),f(k),f(b))};static \u0275cmp=O({type:i,selectors:[["app-login"]],standalone:!0,features:[x],decls:46,vars:9,consts:[[1,"login-container"],[1,"login-card"],[1,"logo-section"],[1,"logo-icon"],[1,"subtitle"],[1,"error-alert"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","you@example.com","autocomplete","email"],["matPrefix",""],["matInput","","formControlName","password","placeholder","Enter your password","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"form-options"],["formControlName","rememberMe"],["routerLink","/auth/forgot-password",1,"forgot-password-link"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"register-section"],["routerLink","/auth/register",1,"register-link"],["diameter","20"]],template:function(o,a){if(o&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"div",2)(4,"mat-icon",3),e(5,"local_parking"),n(),t(6,"h1"),e(7,"ParkShare"),n()(),t(8,"h2"),e(9,"Welcome Back"),n(),t(10,"p",4),e(11,"Sign in to continue to your account"),n()(),t(12,"mat-card-content"),g(13,rt,5,1,"div",5),t(14,"form",6),P("ngSubmit",function(){return a.onSubmit()}),t(15,"mat-form-field",7)(16,"mat-label"),e(17,"Email Address"),n(),C(18,"input",8),t(19,"mat-icon",9),e(20,"email"),n(),g(21,at,2,1,"mat-error"),n(),t(22,"mat-form-field",7)(23,"mat-label"),e(24,"Password"),n(),C(25,"input",10),t(26,"mat-icon",9),e(27,"lock"),n(),t(28,"button",11),P("click",function(){return a.togglePasswordVisibility()}),t(29,"mat-icon"),e(30),n()(),g(31,ct,2,1,"mat-error"),n(),t(32,"div",12)(33,"mat-checkbox",13),e(34," Remember me "),n(),t(35,"a",14),e(36," Forgot password? "),n()(),t(37,"button",15),g(38,lt,3,0)(39,gt,2,0,"span"),n()()(),t(40,"mat-card-footer")(41,"div",16)(42,"span"),e(43,"Don't have an account?"),n(),t(44,"a",17),e(45,"Sign up"),n()()()()()),o&2){let l,p;c(13),m(a.errorMessage()?13:-1),c(),u("formGroup",a.loginForm),c(7),m((l=a.loginForm.get("email"))!=null&&l.invalid&&((l=a.loginForm.get("email"))!=null&&l.touched)?21:-1),c(4),u("type",a.hidePassword()?"password":"text"),c(3),h("aria-label","Hide password"),c(2),d(a.hidePassword()?"visibility_off":"visibility"),c(),m((p=a.loginForm.get("password"))!=null&&p.invalid&&((p=a.loginForm.get("password"))!=null&&p.touched)?31:-1),c(6),u("disabled",a.loginForm.invalid||a.loading()),c(),m(a.loading()?38:39)}},dependencies:[v,$,j,A,D,G,q,V,w,S,T,L,I,N,z,X,Q,U,W,J,K,Z,Y,F,y,E,R,B,nt,tt,ot,et],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 64px);padding:var(--spacing-md);background:linear-gradient(135deg,#e0f2f1,#b2dfdb)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:var(--spacing-xl);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl)}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin-bottom:var(--spacing-xl);padding:0}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-md)}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--primary-color)}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0;background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-light) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 var(--spacing-sm) 0;color:#000000de}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin:0}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);margin-bottom:var(--spacing-lg);background-color:#ffebee;border-radius:var(--border-radius-md);color:var(--warn-color);font-size:14px}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:var(--spacing-sm) 0}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-color);text-decoration:none;transition:color var(--transition-fast)}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:16px;font-weight:600;margin-top:var(--spacing-md);border-radius:var(--border-radius-md)}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin-right:var(--spacing-sm)}.login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{padding:0;margin-top:var(--spacing-xl)}.login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .register-section[_ngcontent-%COMP%]{text-align:center;padding-top:var(--spacing-lg);border-top:1px solid rgba(0,0,0,.12);font-size:14px}.login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .register-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0009;margin-right:var(--spacing-sm)}.login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .register-section[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;text-decoration:none;transition:color var(--transition-fast)}.login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .register-section[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}.dark-theme[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a2a2a,#0d1a1a)}.dark-theme[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffffffde}.dark-theme[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#fff9}.dark-theme[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{background-color:#4a2020;color:#ff6b6b}.dark-theme[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .register-section[_ngcontent-%COMP%]{border-top-color:#ffffff1f}.dark-theme[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]   .register-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff9}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);min-height:100vh;align-items:flex-start}.login-card[_ngcontent-%COMP%]{padding:var(--spacing-lg);margin-top:var(--spacing-lg)}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}}"]})};export{it as LoginComponent};
